<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÌîºÎãâÏä§ ÏπòÍ≥º AI ÏÉÅÎã¥ÏÇ¨</title>
    
    <!-- Ïπ¥Ïπ¥Ïò§ÌÜ° Ïù∏Ïï± Î∏åÎùºÏö∞Ï†Ä Ï∫êÏãú Î∞©ÏßÄ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="address=no">
    <meta name="format-detection" content="email=no">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f0f2f5;
            height: 100vh;
            overflow: hidden;
        }

        .chatbot-main {
            display: flex;
            flex-direction: column;
            height: 100vh;
            background: white;
            position: relative;
        }

        /* Ìó§Îçî */
        .chatbot-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 18px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            flex-shrink: 0;
            order: 1;
        }

        .chatbot-title {
            font-size: 22px;
            font-weight: bold;
            margin: 0;
        }

        .back-link {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            width: 68px;
            height: 75px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            transition: all 0.3s ease;
            padding: 4px;
            text-decoration: none;
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.1);
        }

        .home-icon {
            font-size: 27px;
            line-height: 1;
        }

        .home-arrow {
            font-size: 17px;
            line-height: 1;
            margin-top: 3px;
        }

        /* Î©îÏãúÏßÄ ÏòÅÏó≠ */
        .chatbot-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
            -webkit-overflow-scrolling: touch;
            order: 2;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .message.bot .message-avatar {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .message.user .message-avatar {
            background: #e9ecef;
            color: #495057;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.4;
            font-size: 14px;
        }

        .message.bot .message-content {
            background: white;
            color: #333;
            border-bottom-left-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .message.user .message-content {
            background: #4facfe;
            color: white;
            border-bottom-right-radius: 6px;
        }

        /* Îπ†Î•∏ Î≤ÑÌäº */
        .quick-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .quick-button {
            background: #f0f8ff;
            color: #4facfe;
            border: 1px solid #4facfe;
            border-radius: 15px;
            padding: 8px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-button:hover {
            background: #4facfe;
            color: white;
        }

        /* Ïñ∏Ïñ¥ ÏÑ†ÌÉù ÎìúÎ°≠Îã§Ïö¥ */
        .language-selector {
            position: relative;
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            flex-shrink: 0;
            order: 3;
        }

        .language-dropdown {
            position: relative;
            display: inline-block;
        }

        .language-current {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .language-current:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.5);
        }

        .language-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
        }

        .language-menu.show {
            display: block;
        }

        .language-option {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 1px solid #eee;
        }

        .language-option:last-child {
            border-bottom: none;
        }

        .language-option:hover {
            background: #f8f9fa;
        }

        .language-option.active {
            background: #4facfe;
            color: white;
        }

        /* ÏûÖÎ†• ÏòÅÏó≠ - ÌôîÎ©¥ ÌïòÎã® 90% ÏúÑÏπò */
        .chatbot-input {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #ddd;
            padding: 15px;
            display: flex;
            gap: 10px;
            align-items: flex-end;
            z-index: 1000;
            order: 4;
        }

        .chatbot-input textarea {
            flex: 1;
            border: 2px solid #4facfe;
            border-radius: 20px;
            padding: 12px 16px;
            font-size: 16px;
            resize: none;
            outline: none;
            min-height: 45px;
            max-height: 120px;
            line-height: 1.4;
        }

        .chatbot-input textarea:focus {
            border-color: #00f2fe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.2);
        }

        .chatbot-send {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 108px;
            height: 45px;
        }

        .chatbot-send:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }

        .chatbot-send:active {
            transform: translateY(0);
        }

        /* Î∞òÏùëÌòï ÎîîÏûêÏù∏ */
        @media (max-width: 768px) {
            .chatbot-header {
                padding: 15px;
            }
            
            .chatbot-title {
                font-size: 20px;
            }
            
            .back-link {
                width: 52px;
                height: 58px;
                left: 10px;
            }
            
            .home-icon {
                font-size: 22px;
            }
            
            .home-arrow {
                font-size: 14px;
            }
            
            .chatbot-messages {
                padding: 15px;
            }
            
            .language-selector {
                padding: 10px;
                margin: 8px;
            }
            
            .chatbot-input {
                padding: 10px;
            }
        }

        @media (max-width: 480px) {
            .back-link {
                width: 45px;
                height: 50px;
                left: 8px;
            }
            
            .home-icon {
                font-size: 20px;
            }
            
            .home-arrow {
                font-size: 12px;
            }
            
            .chatbot-messages {
                padding: 10px;
            }
            
            .chatbot-input {
                padding: 8px;
            }
            
            .chatbot-send {
                min-width: 90px;
                padding: 10px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="chatbot-main">
        <!-- Ìó§Îçî -->
        <div class="chatbot-header">
            <a href="index.html" class="back-link">
                <span class="home-icon">üè†</span>
                <span class="home-arrow">‚Üê</span>
            </a>
            <h1 class="chatbot-title">ÌîºÎãâÏä§ ÏπòÍ≥º AI ÏÉÅÎã¥ÏÇ¨üë©‚Äç‚öïÔ∏è</h1>
        </div>

        <!-- Î©îÏãúÏßÄ ÏòÅÏó≠ -->
        <div class="chatbot-messages" id="chatbotMessages">
            <!-- Î©îÏãúÏßÄÎì§Ïù¥ Ïó¨Í∏∞Ïóê Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
        </div>

        <!-- Ïñ∏Ïñ¥ ÏÑ†ÌÉù ÎìúÎ°≠Îã§Ïö¥ -->
        <div class="language-selector">
            <div class="language-dropdown">
                <button class="language-current" onclick="toggleLanguageDropdown()">
                    <span id="currentLanguageText">üá∞üá∑ ÌïúÍµ≠Ïñ¥</span>
                    <span>‚ñº</span>
                </button>
                <div class="language-menu" id="languageMenu">
                    <div class="language-option active" onclick="selectLanguage('ko')">üá∞üá∑ ÌïúÍµ≠Ïñ¥</div>
                    <div class="language-option" onclick="selectLanguage('en')">üá∫üá∏ ÏòÅÏñ¥</div>
                    <div class="language-option" onclick="selectLanguage('ru')">üá∑üá∫ Îü¨ÏãúÏïÑÏñ¥</div>
                </div>
            </div>
        </div>

        <!-- ÏûÖÎ†• ÏòÅÏó≠ -->
        <div class="chatbot-input">
            <textarea id="chatbotInput" placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî... (Shift+Enter: Ï†ÑÏÜ°)" rows="1"></textarea>
            <button class="chatbot-send" onclick="sendMessage()">Ï†ÑÏÜ°</button>
        </div>
    </div>

    <script>
        console.log('üöÄ Î≥ÑÎèÑÏ∞Ω AIÏ±óÎ¥á ÌéòÏù¥ÏßÄ Î°úÎìú ÏãúÏûë');

        // Ï†ÑÏó≠ Î≥ÄÏàò
        let currentLanguage = 'ko';
        let apiSettings = {
            chatgpt: { apiKey: '', model: '', enabled: false },
            gemini: { apiKey: '', model: '', enabled: false },
            claude: { apiKey: '', model: '', enabled: false },
            activeProvider: ''
        };

        // Ïñ∏Ïñ¥Î≥Ñ ÌÖçÏä§Ìä∏
        const translations = {
            ko: {
                title: 'ÌîºÎãâÏä§ ÏπòÍ≥º AI ÏÉÅÎã¥ÏÇ¨üë©‚Äç‚öïÔ∏è',
                placeholder: 'Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî... (Shift+Enter: Ï†ÑÏÜ°)',
                sendButton: 'Ï†ÑÏÜ°',
                currentLanguage: 'üá∞üá∑ ÌïúÍµ≠Ïñ¥',
                welcomeMessage: 'ÏïàÎÖïÌïòÏÑ∏Ïöî! ÌîºÎãâÏä§ ÏπòÍ≥º AI ÏÉÅÎã¥ÏÇ¨ÏûÖÎãàÎã§. Î¨¥ÏóáÏùÑ ÎèÑÏôÄÎìúÎ¶¥ÍπåÏöî?',
                clinicHours: `üïò <strong>ÌîºÎãâÏä§ ÏπòÍ≥º ÏßÑÎ£åÏãúÍ∞Ñ ÏïàÎÇ¥</strong><br><br>
                    üìÖ <strong>ÌèâÏùº:</strong> 09:00 ~ 18:00<br>
                    üìÖ <strong>ÌÜ†ÏöîÏùº:</strong> 09:00 ~ 15:00<br>
                    üçΩÔ∏è <strong>Ï†êÏã¨ÏãúÍ∞Ñ:</strong> 12:30 ~ 13:30<br>
                    üö´ <strong>Ìú¥ÏßÑ:</strong> ÏùºÏöîÏùº, Í≥µÌú¥Ïùº<br><br>
                    üìû <strong>ÏòàÏïΩ Î¨∏Ïùò:</strong> 070-1234-1234`,
                treatmentCost: `üí∞ <strong>ÌîºÎãâÏä§ ÏπòÍ≥º ÏπòÎ£åÎπÑÏö© ÏïàÎÇ¥</strong><br><br>
                    ü¶∑ <strong>ÏùºÎ∞ò ÏßÑÎ£å:</strong> ÏÉÅÎã¥ ÌõÑ ÏïàÎÇ¥<br>
                    ü¶∑ <strong>Ïä§ÏºÄÏùºÎßÅ:</strong> 30,000Ïõê ~ 50,000Ïõê<br>
                    ü¶∑ <strong>ÏûÑÌîåÎûÄÌä∏:</strong> ÏÉÅÎã¥ ÌõÑ Í∞úÎ≥Ñ Í≤¨Ï†Å<br>
                    ü¶∑ <strong>ÍµêÏ†ï:</strong> ÏÉÅÎã¥ ÌõÑ Í∞úÎ≥Ñ Í≤¨Ï†Å<br><br>
                    üí° <strong>Ï†ïÌôïÌïú ÎπÑÏö©ÏùÄ ÏßÑÎ£å ÌõÑ ÏïàÎÇ¥ÎìúÎ¶ΩÎãàÎã§!</strong>`,
                directions: `üó∫Ô∏è <strong>ÌîºÎãâÏä§ ÏπòÍ≥º Ïò§ÏãúÎäîÍ∏∏</strong><br><br>
                    üìç <strong>Ï£ºÏÜå:</strong> ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨ ÌÖåÌó§ÎûÄÎ°ú 123<br>
                    üöá <strong>ÏßÄÌïòÏ≤†:</strong> Í∞ïÎÇ®Ïó≠ 1Î≤à Ï∂úÍµ¨ ÎèÑÎ≥¥ 5Î∂Ñ<br>
                    üöå <strong>Î≤ÑÏä§:</strong> Í∞ïÎÇ®Ïó≠ Ï†ïÎ•òÏû• ÌïòÏ∞®<br>
                    üöó <strong>Ï£ºÏ∞®:</strong> Í±¥Î¨º ÏßÄÌïò Ï£ºÏ∞®Ïû• Ïù¥Ïö©<br><br>
                    üìû <strong>Î¨∏Ïùò:</strong> 070-1234-1234`,
                reservation: `üìÖ <strong>ÏòàÏïΩ Î¨∏Ïùò</strong><br><br>
                    Ïò®ÎùºÏù∏ ÏòàÏïΩÏù¥ÎÇò Ï†ÑÌôî ÏòàÏïΩÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.<br><br>
                    üì± <strong>Ïò®ÎùºÏù∏ ÏòàÏïΩ:</strong> ÏòàÏïΩ ÌéòÏù¥ÏßÄ Ïù¥Ïö©<br>
                    üìû <strong>Ï†ÑÌôî ÏòàÏïΩ:</strong> 070-1234-1234<br><br>
                    üíù <strong>Ìé∏Î¶¨Ìïú ÏãúÍ∞ÑÏóê Ïó∞ÎùΩÏ£ºÏÑ∏Ïöî!</strong>`
            },
            en: {
                title: 'Phoenix Dental AI Consultantüë©‚Äç‚öïÔ∏è',
                placeholder: 'Enter your message... (Shift+Enter: Send)',
                sendButton: 'Send',
                currentLanguage: 'üá∫üá∏ ÏòÅÏñ¥',
                welcomeMessage: 'Hello! I am Phoenix Dental AI consultant. How can I help you?',
                clinicHours: `üïò <strong>Phoenix Dental Clinic Hours</strong><br><br>
                    üìÖ <strong>Weekdays:</strong> 09:00 ~ 18:00<br>
                    üìÖ <strong>Saturday:</strong> 09:00 ~ 15:00<br>
                    üçΩÔ∏è <strong>Lunch Break:</strong> 12:30 ~ 13:30<br>
                    üö´ <strong>Closed:</strong> Sunday, Holidays<br><br>
                    üìû <strong>Reservation:</strong> 070-1234-1234`,
                treatmentCost: `üí∞ <strong>Phoenix Dental Treatment Costs</strong><br><br>
                    ü¶∑ <strong>General Treatment:</strong> Consultation required<br>
                    ü¶∑ <strong>Scaling:</strong> 30,000 ~ 50,000 KRW<br>
                    ü¶∑ <strong>Implant:</strong> Individual estimate after consultation<br>
                    ü¶∑ <strong>Orthodontics:</strong> Individual estimate after consultation<br><br>
                    üí° <strong>Exact costs will be provided after examination!</strong>`,
                directions: `üó∫Ô∏è <strong>Phoenix Dental Directions</strong><br><br>
                    üìç <strong>Address:</strong> 123 Teheran-ro, Gangnam-gu, Seoul<br>
                    üöá <strong>Subway:</strong> 5 min walk from Gangnam Station Exit 1<br>
                    üöå <strong>Bus:</strong> Get off at Gangnam Station<br>
                    üöó <strong>Parking:</strong> Underground parking available<br><br>
                    üìû <strong>Contact:</strong> 070-1234-1234`,
                reservation: `üìÖ <strong>Reservation Inquiry</strong><br><br>
                    Online or phone reservations are available.<br><br>
                    üì± <strong>Online:</strong> Use reservation page<br>
                    üìû <strong>Phone:</strong> 070-1234-1234<br><br>
                    üíù <strong>Contact us at your convenience!</strong>`
            },
            ru: {
                title: '–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ò–ò —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏ Phoenixüë©‚Äç‚öïÔ∏è',
                placeholder: '–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ... (Shift+Enter: –û—Ç–ø—Ä–∞–≤–∏—Ç—å)',
                sendButton: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å',
                currentLanguage: 'üá∑üá∫ Îü¨ÏãúÏïÑÏñ¥',
                welcomeMessage: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ò–ò —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏ Phoenix. –ö–∞–∫ —è –º–æ–≥—É –ø–æ–º–æ—á—å –≤–∞–º?',
                clinicHours: `üïò <strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏ Phoenix</strong><br><br>
                    üìÖ <strong>–ë—É–¥–Ω–∏:</strong> 09:00 ~ 18:00<br>
                    üìÖ <strong>–°—É–±–±–æ—Ç–∞:</strong> 09:00 ~ 15:00<br>
                    üçΩÔ∏è <strong>–û–±–µ–¥:</strong> 12:30 ~ 13:30<br>
                    üö´ <strong>–í—ã—Ö–æ–¥–Ω—ã–µ:</strong> –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏<br><br>
                    üìû <strong>–ó–∞–ø–∏—Å—å:</strong> 070-1234-1234`,
                treatmentCost: `üí∞ <strong>–°—Ç–æ–∏–º–æ—Å—Ç—å –ª–µ—á–µ–Ω–∏—è –≤ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏ Phoenix</strong><br><br>
                    ü¶∑ <strong>–û–±—â–µ–µ –ª–µ—á–µ–Ω–∏–µ:</strong> –¢—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è<br>
                    ü¶∑ <strong>–ß–∏—Å—Ç–∫–∞:</strong> 30,000 ~ 50,000 –≤–æ–Ω<br>
                    ü¶∑ <strong>–ò–º–ø–ª–∞–Ω—Ç:</strong> –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ—Å–ª–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏<br>
                    ü¶∑ <strong>–û—Ä—Ç–æ–¥–æ–Ω—Ç–∏—è:</strong> –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ—Å–ª–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏<br><br>
                    üí° <strong>–¢–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è!</strong>`,
                directions: `üó∫Ô∏è <strong>–ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏ Phoenix</strong><br><br>
                    üìç <strong>–ê–¥—Ä–µ—Å:</strong> 123 –¢—ç—Ö–µ—Ä–∞–Ω-—Ä–æ, –ö–∞–Ω–Ω–∞–º-–≥—É, –°–µ—É–ª<br>
                    üöá <strong>–ú–µ—Ç—Ä–æ:</strong> 5 –º–∏–Ω –ø–µ—à–∫–æ–º –æ—Ç —Å—Ç–∞–Ω—Ü–∏–∏ –ö–∞–Ω–Ω–∞–º, –≤—ã—Ö–æ–¥ 1<br>
                    üöå <strong>–ê–≤—Ç–æ–±—É—Å:</strong> –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞–Ω—Ü–∏—è –ö–∞–Ω–Ω–∞–º<br>
                    üöó <strong>–ü–∞—Ä–∫–æ–≤–∫–∞:</strong> –ü–æ–¥–∑–µ–º–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞<br><br>
                    üìû <strong>–ö–æ–Ω—Ç–∞–∫—Ç:</strong> 070-1234-1234`,
                reservation: `üìÖ <strong>–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏–µ–º</strong><br><br>
                    –î–æ—Å—Ç—É–ø–Ω–∞ –æ–Ω–ª–∞–π–Ω –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å.<br><br>
                    üì± <strong>–û–Ω–ª–∞–π–Ω:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–ø–∏—Å–∏<br>
                    üìû <strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> 070-1234-1234<br><br>
                    üíù <strong>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è!</strong>`
            }
        };

        // Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Î°úÎìú ÏôÑÎ£å');
            
            // ÌôòÏòÅ Î©îÏãúÏßÄ Î∞è Îπ†Î•∏ Î≤ÑÌäº Ï∂îÍ∞Ä
            setTimeout(() => {
                addWelcomeMessage();
                setupEventListeners();
                setupTextareaResize();
            }, 100);
        });

        // ÌôòÏòÅ Î©îÏãúÏßÄ Ï∂îÍ∞Ä
        function addWelcomeMessage() {
            const welcomeMessage = `
                <div style="background: #f0f8ff; border-radius: 10px; padding: 15px; margin-bottom: 15px;">
                    <div style="text-align: center; font-size: 18px; font-weight: bold; color: #2c3e50; margin-bottom: 15px;">
                        üåç AIÏÉÅÎã¥ÏÇ¨Ïùò Ïñ∏Ïñ¥Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî! (Í∏∞Î≥∏Ïñ∏Ïñ¥:ÌïúÍµ≠Ïñ¥üá∞üá∑)
                    </div>
                    <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                        <button class="language-btn" onclick="setLanguage('ko')" style="
                            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); 
                            color: white; 
                            border: none; 
                            padding: 12px 20px; 
                            border-radius: 25px; 
                            font-size: 16px; 
                            font-weight: bold; 
                            cursor: pointer; 
                            transition: all 0.3s; 
                            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
                        ">üá∞üá∑ ÌïúÍµ≠Ïñ¥</button>
                        <button class="language-btn" onclick="setLanguage('en')" style="
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                            color: white; 
                            border: none; 
                            padding: 12px 20px; 
                            border-radius: 25px; 
                            font-size: 16px; 
                            font-weight: bold; 
                            cursor: pointer; 
                            transition: all 0.3s; 
                            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
                        ">üá∫üá∏ ÏòÅÏñ¥</button>
                        <button class="language-btn" onclick="setLanguage('ru')" style="
                            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); 
                            color: white; 
                            border: none; 
                            padding: 12px 20px; 
                            border-radius: 25px; 
                            font-size: 16px; 
                            font-weight: bold; 
                            cursor: pointer; 
                            transition: all 0.3s; 
                            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
                        ">üá∑üá∫ Îü¨ÏãúÏïÑÏñ¥</button>
                        <button class="language-btn" onclick="setLanguage('ja')" style="
                            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); 
                            color: #333; 
                            border: none; 
                            padding: 12px 20px; 
                            border-radius: 25px; 
                            font-size: 16px; 
                            font-weight: bold; 
                            cursor: pointer; 
                            transition: all 0.3s; 
                            box-shadow: 0 4px 15px rgba(168, 237, 234, 0.3);
                        ">üáØüáµ ÏùºÎ≥∏Ïñ¥</button>
                    </div>
                </div>
                
                <div class="quick-buttons">
                    <button class="quick-button" onclick="sendQuickMessage('ÏßÑÎ£åÏãúÍ∞Ñ ÏïåÎ†§Ï£ºÏÑ∏Ïöî')">ÏßÑÎ£åÏãúÍ∞Ñ</button>
                    <button class="quick-button" onclick="sendQuickMessage('ÏòàÏïΩÎ¨∏Ïùò')">ÏòàÏïΩÎ¨∏Ïùò</button>
                    <button class="quick-button" onclick="sendQuickMessage('ÏπòÎ£åÎπÑÏö© Í∂ÅÍ∏àÌï¥Ïöî')">ÏπòÎ£åÎπÑÏö©</button>
                    <button class="quick-button" onclick="sendQuickMessage('Ïò§ÏãúÎäîÍ∏∏')">Ïò§ÏãúÎäîÍ∏∏</button>
                </div>
            `;
            
            addBotMessage(welcomeMessage);
        }

        // Î™®Îì† Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà ÏÑ§Ï†ï
        function setupEventListeners() {
            console.log('Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà ÏÑ§Ï†ï ÏãúÏûë');
            
            // Ï†ÑÏÜ° Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
            const sendButton = document.querySelector('.chatbot-send');
            if (sendButton) {
                sendButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    sendMessage();
                });
            }

            // ÏûÖÎ†•Ï∞Ω ÌÇ§Î≥¥Îìú Ïù¥Î≤§Ìä∏
            const inputTextarea = document.getElementById('chatbotInput');
            if (inputTextarea) {
                inputTextarea.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' && e.shiftKey) {
                        e.preventDefault();
                        sendMessage();
                    }
                });
            }

            // ÎìúÎ°≠Îã§Ïö¥ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.language-dropdown')) {
                    const menu = document.getElementById('languageMenu');
                    if (menu) {
                        menu.style.display = 'none';
                        menu.classList.remove('show');
                    }
                }
            });

            console.log('Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà ÏÑ§Ï†ï ÏôÑÎ£å');
        }

        // ÌÖçÏä§Ìä∏ ÏòÅÏó≠ ÏûêÎèô ÌÅ¨Í∏∞ Ï°∞Ï†ï
        function setupTextareaResize() {
            const textarea = document.getElementById('chatbotInput');
            if (textarea) {
                textarea.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = Math.min(this.scrollHeight, 120) + 'px';
                });
            }
        }

        // Ïñ∏Ïñ¥ ÎìúÎ°≠Îã§Ïö¥ ÌÜ†Í∏Ä
        function toggleLanguageDropdown() {
            const menu = document.getElementById('languageMenu');
            if (menu) {
                const isVisible = menu.style.display === 'block';
                menu.style.display = isVisible ? 'none' : 'block';
                menu.classList.toggle('show', !isVisible);
            }
        }

        // Ïñ∏Ïñ¥ ÏÑ†ÌÉù
        function selectLanguage(language) {
            console.log('Ïñ∏Ïñ¥ ÏÑ†ÌÉù:', language);
            
            currentLanguage = language;
            
            // UI ÏóÖÎç∞Ïù¥Ìä∏
            updateLanguageUI(language);
            
            // ÎìúÎ°≠Îã§Ïö¥ Î©îÎâ¥ Îã´Í∏∞
            const menu = document.getElementById('languageMenu');
            if (menu) {
                menu.style.display = 'none';
                menu.classList.remove('show');
            }
            
            // Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω ÏïåÎ¶º
            const changeMessages = {
                ko: 'üá∞üá∑ ÌïúÍµ≠Ïñ¥Î°ú Ïñ∏Ïñ¥Í∞Ä Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§!',
                en: 'üá∫üá∏ Language changed to English!',
                ru: 'üá∑üá∫ –Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ —Ä—É—Å—Å–∫–∏–π!'
            };
            
            addBotMessage(changeMessages[language] || changeMessages['ko']);
        }

        // Ïñ∏Ïñ¥ UI ÏóÖÎç∞Ïù¥Ìä∏
        function updateLanguageUI(language) {
            const t = translations[language] || translations['ko'];
            
            // Ìó§Îçî Ï†úÎ™©
            const title = document.querySelector('.chatbot-title');
            if (title) title.textContent = t.title;
            
            // ÏûÖÎ†•Ï∞Ω ÌîåÎ†àÏù¥Ïä§ÌôÄÎçî
            const input = document.getElementById('chatbotInput');
            if (input) input.placeholder = t.placeholder;
            
            // Ï†ÑÏÜ° Î≤ÑÌäº ÌÖçÏä§Ìä∏
            const sendBtn = document.querySelector('.chatbot-send');
            if (sendBtn) sendBtn.textContent = t.sendButton;
            
            // ÌòÑÏû¨ Ïñ∏Ïñ¥ ÌëúÏãú
            const currentLangText = document.getElementById('currentLanguageText');
            if (currentLangText) currentLangText.textContent = t.currentLanguage;
            
            // ÎìúÎ°≠Îã§Ïö¥ ÏòµÏÖò ÏóÖÎç∞Ïù¥Ìä∏
            const options = document.querySelectorAll('.language-option');
            options.forEach(option => {
                option.classList.remove('active');
                if (option.getAttribute('onclick').includes(`'${language}'`)) {
                    option.classList.add('active');
                }
            });
        }

        // Îπ†Î•∏ Î©îÏãúÏßÄ Ï†ÑÏÜ°
        function sendQuickMessage(message) {
            console.log('Îπ†Î•∏ Î©îÏãúÏßÄ Ï†ÑÏÜ°:', message);
            
            // ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ Ï∂îÍ∞Ä
            addUserMessage(message);
            
            // AI ÎãµÎ≥Ä ÏÉùÏÑ±
            generateResponse(message);
        }

        // Î©îÏãúÏßÄ Ï†ÑÏÜ°
        function sendMessage() {
            const input = document.getElementById('chatbotInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            console.log('Î©îÏãúÏßÄ Ï†ÑÏÜ°:', message);
            
            // ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ Ï∂îÍ∞Ä
            addUserMessage(message);
            
            // ÏûÖÎ†•Ï∞Ω Ï¥àÍ∏∞Ìôî
            input.value = '';
            input.style.height = 'auto';
            
            // AI ÎãµÎ≥Ä ÏÉùÏÑ±
            generateResponse(message);
        }

        // ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ Ï∂îÍ∞Ä
        function addUserMessage(message) {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="message-avatar">üë§</div>
                <div class="message-content">${message}</div>
            `;
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
        }

        // Î¥á Î©îÏãúÏßÄ Ï∂îÍ∞Ä
        function addBotMessage(message) {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot';
            messageDiv.innerHTML = `
                <div class="message-avatar">üë©‚Äç‚öïÔ∏è</div>
                <div class="message-content">${message}</div>
            `;
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
            return messageDiv;
        }

        // Ïä§ÌÅ¨Î°§ Îß® ÏïÑÎûòÎ°ú
        function scrollToBottom() {
            const messagesContainer = document.getElementById('chatbotMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // AI ÎãµÎ≥Ä ÏÉùÏÑ±
        function generateResponse(message) {
            const t = translations[currentLanguage] || translations['ko'];
            let response = '';
            
            // ÌÇ§ÏõåÎìú Í∏∞Î∞ò ÎãµÎ≥Ä
            if (message.includes('ÏßÑÎ£åÏãúÍ∞Ñ') || message.includes('Ïñ∏Ï†ú') || message.includes('Î™áÏãú') || message.includes('ÏãúÍ∞Ñ')) {
                response = t.clinicHours;
            } else if (message.includes('ÏπòÎ£åÎπÑÏö©') || message.includes('ÎπÑÏö©') || message.includes('Í∞ÄÍ≤©') || message.includes('cost')) {
                response = t.treatmentCost;
            } else if (message.includes('Ïò§ÏãúÎäîÍ∏∏') || message.includes('ÏúÑÏπò') || message.includes('Ï£ºÏÜå') || message.includes('directions')) {
                response = t.directions;
            } else if (message.includes('ÏòàÏïΩ') || message.includes('appointment') || message.includes('reservation')) {
                response = t.reservation;
            } else if (message.includes('AIÍ¥ÄÎ¶¨Ïûê') || message.includes('AI Í¥ÄÎ¶¨Ïûê') || message.includes('Í¥ÄÎ¶¨Ïûê')) {
                response = `
                    üîë <strong>AI Í¥ÄÎ¶¨Ïûê Í∏∞Îä•ÏùÑ ÏöîÏ≤≠ÌïòÏÖ®ÏäµÎãàÎã§.</strong><br><br>
                    ÏïÑÎûò Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏó¨ AI Ï±óÎ¥á Í¥ÄÎ¶¨ ÏãúÏä§ÌÖúÏóê Ï†ëÏÜçÌïòÏÑ∏Ïöî.<br><br>
                    <button onclick="loginChatbotAdmin()" style="
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        border: none;
                        padding: 12px 24px;
                        border-radius: 25px;
                        font-size: 16px;
                        font-weight: bold;
                        cursor: pointer;
                        transition: all 0.3s;
                        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
                    ">ü§ñ AIÏ±óÎ¥á Í¥ÄÎ¶¨ Î°úÍ∑∏Ïù∏</button>
                `;
            } else {
                // Í∏∞Î≥∏ ÎãµÎ≥Ä
                response = `
                    ÏïàÎÖïÌïòÏÑ∏Ïöî! ÌîºÎãâÏä§ ÏπòÍ≥º AI ÏÉÅÎã¥ÏÇ¨ÏûÖÎãàÎã§.<br><br>
                    Îã§Ïùå Ï§ë Í∂ÅÍ∏àÌïú ÏÇ¨Ìï≠ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî:<br><br>
                    ‚Ä¢ ÏßÑÎ£åÏãúÍ∞Ñ Î∞è ÏòàÏïΩ ÏïàÎÇ¥<br>
                    ‚Ä¢ ÏπòÎ£åÎπÑÏö© Î¨∏Ïùò<br>
                    ‚Ä¢ Ïò§ÏãúÎäîÍ∏∏ ÏïàÎÇ¥<br>
                    ‚Ä¢ Í∏∞ÌÉÄ Î¨∏ÏùòÏÇ¨Ìï≠<br><br>
                    Îçî ÏûêÏÑ∏Ìïú ÏÉÅÎã¥ÏùÑ ÏõêÌïòÏãúÎ©¥ üìû 070-1234-1234Î°ú Ïó∞ÎùΩÏ£ºÏÑ∏Ïöî!
                `;
            }
            
            // ÎãµÎ≥ÄÏóê ÏòàÏïΩ Î≤ÑÌäº Ï∂îÍ∞Ä (Í¥ÄÎ¶¨Ïûê Î©îÏãúÏßÄÍ∞Ä ÏïÑÎãå Í≤ΩÏö∞)
            if (!message.includes('AIÍ¥ÄÎ¶¨Ïûê')) {
                response += `<br><br>
                <div style="background: #f0f8ff; padding: 12px; border-radius: 8px; margin-top: 10px; text-align: center;">
                    üíù <strong>Ï¢ÄÎçî ÏûêÏÑ∏Ìïú ÏÇ¨Ìï≠ÏùÄ ÏßÅÏ†ë Î∞©Î¨∏ÌïòÏãúÎ©¥ ÏπúÏ†àÌïòÍ≤å ÏÉÅÎã¥ ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§!</strong><br><br>
                    <button onclick="goToReservationPage()" style="
                        background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 25px;
                        font-size: 14px;
                        font-weight: bold;
                        cursor: pointer;
                        transition: all 0.3s;
                        box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
                        margin-top: 5px;
                    ">üìÖ ÏòàÏïΩÌïòÍ∏∞</button>
                </div>`;
            }
            
            addBotMessage(response);
        }

        // ÏòàÏïΩ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
        function goToReservationPage() {
            window.location.href = 'reservation.html';
        }

        // Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏
        function loginChatbotAdmin() {
            window.location.href = 'index.html#admin';
        }

        // Ïñ∏Ïñ¥ ÏÑ§Ï†ï Ìï®Ïàò (Ìò∏ÌôòÏÑ±)
        function setLanguage(language) {
            selectLanguage(language);
        }

        console.log('Î≥ÑÎèÑÏ∞Ω AIÏ±óÎ¥á Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');
    </script>
</body>
</html> 